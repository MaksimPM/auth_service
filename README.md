JWT Auth API
-----------------------------------------
Сервис для авторизации по JWT Токену
-----------------------------------------
## Запуск проекта
1. Создайте в корне проекта файл ```.env``` и заполните данные по образцу из файла ```.env.sample```

2. Создайте виртуальное окружение ```venv```:
   ```shell
   python3 -m venv venv
   ```

3. Установите все необходимые зависимости, указанные в файле ```requirements.txt```:
   ```shell
   pip install -r requirements.txt
   ```

4. Произведите миграции базы данных командами:
   ```shell
   python3 manage.py makemigration
   ```
   ```shell
   python3 manage.py migrate
   ```
   
5. Для работы с админкой необходимо создать суперпользователя командой:
   ```shell
   python3 manage.py csu
   ```

6. Запустите сервер командой
   ```shell
   python3 manage.py runserver
   ```

7. Запустите Celery командой:
   ```shell
   celery -A config worker -l INFO
   ```
7. Для тестирования сервиса рекомендуется использовать ```Postman```
________________________________________
## Эндпоинты (Endpoints)

### Регистрация пользователя

URL: /sign-up/

Метод: ```POST```

Пример запроса:

{
    "name": "......",
    "phone": "......",
    "email": "......",
    "site": "......"
}

Ответ:
- Через ```Celery``` реализован функционал генерации и отправки пароля для личного кабинета на почту.

### Авторизация пользователя

URL: /sign-up/

Метод: ```POST```

Пример запроса:

{
    "email": "......",
    "password": "......" - (отправленный на почту)
}

Ответ:

{
    "JWT Token": "......"
}

### Запрос на смену пароля

URL: /recovery/

Метод: ```POST```

Пример запроса:

{
    "email": "......"
}

Ответ:
- Получаем сообщение на почту с ссылкой на смену пароля

### Смена пароля

URL: /recovery/:hash/ - (ссылка отправленная на почту)

Метод: ```PATCH```

Пример запроса:

{
    "password": "......"
}  

Ответ:

{
    "JWT Token": "......" - (обновленный)
}
